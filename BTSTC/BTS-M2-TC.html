<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formation : Gestion et Dynamisation de l'Offre Commerciale</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        /* --- VARIABLES DE COULEUR --- */
        :root {
            --main-blue: #1A0096;
            --accent-orange: #F77500;
            --light-blue-bg: #f0f3ff;
            --light-orange-bg: #fff5e6;
            --text-dark: #2d3748;
            --text-light: #4a5568;
            --border-color: #e2e8f0;
            --card-bg: #ffffff;
            --success-color: #28a745;
        }

        /* --- STYLES GÉNÉRAUX --- */
        html { scroll-behavior: smooth; }
        body { margin: 0; padding: 0; background-color: #f7fafc; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; line-height: 1.6; color: var(--text-dark); }
        .main-container { margin: 0 auto; max-width: 1100px; width: 100%; padding: 20px; box-sizing: border-box; }
        
        /* --- HEADER --- */
        header { background-color: var(--main-blue); color: white; padding: 25px 20px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-bottom: 4px solid var(--accent-orange); }
        header i { font-size: 3em; margin-bottom: 10px; opacity: 0.9; }
        header h1 { color: white; font-size: 2.2em; font-weight: 700; margin: 0 0 8px 0; }
        header p { color: #e0e0ff; font-size: 1.1em; margin: 0; }

        /* --- NAVIGATION TIMELINE --- */
        .timeline-card { background-color: var(--card-bg); padding: 15px 5px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 35px; display: flex; justify-content: space-around; align-items: flex-start; }
        .timeline-step { display: flex; flex-direction: column; align-items: center; text-align: center; text-decoration: none; color: var(--text-light); transition: transform 0.2s ease; padding:5px; border-radius: 8px; flex-basis: 0; flex-grow: 1; min-width: 65px; font-size: 0.75em; cursor:pointer;}
        .timeline-step-circle { width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d3d3f5; background-color: var(--light-blue-bg); display: flex; justify-content: center; align-items: center; margin-bottom: 8px; color: var(--main-blue); transition: all 0.3s ease; font-size:1.1em; }
        .timeline-step.active .timeline-step-circle { border-color: var(--accent-orange); background-color: var(--main-blue); color: white; transform: scale(1.1); }
        .timeline-step.active span { color: var(--main-blue); font-weight: 600; }
        .timeline-connector { width: 10px; height: 2px; background-color: #d3d3f5; margin-top: 21px; flex-grow:0.1; }

        /* --- STRUCTURE DE PAGE (SPA) --- */
        .spa-page { display: none; opacity: 0; animation: fadeInAnimation 0.5s ease-in-out forwards; }
        @keyframes fadeInAnimation { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .spa-page.active { display: block; }
        .main-page-title { color: var(--main-blue); font-size: 1.9em; font-weight: 700; margin-top: 10px; margin-bottom: 25px; display: flex; align-items: center; border-bottom: 2px solid var(--accent-orange); padding-bottom: 12px; }
        .main-page-title i { margin-right: 15px; font-size: 1.1em; }

        /* --- BLOCS DE CONTENU & CARTES --- */
        .content-card { background-color: var(--card-bg); padding: 25px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 25px; border: 1px solid var(--border-color); }
        .content-card h3 { font-size: 1.5em; margin-top:0; margin-bottom: 15px; display: flex; align-items: center; color: var(--main-blue); }
        .content-card h3 i { margin-right: 12px; font-size: 1em; color: var(--accent-orange); }
        .content-card h4 { font-size: 1.2em; color: var(--text-dark); margin-top: 20px; margin-bottom: 10px; font-weight: 600; border-left: 3px solid var(--accent-orange); padding-left: 10px; }
        
        .content-card ul { padding-left: 0; list-style-type: none; }
        .content-card ul li { padding-left: 1.4em; position: relative; margin-bottom: 0.5rem; }
        .content-card ul li::before { content: '•'; position: absolute; left: 0; color: var(--accent-orange); font-weight: bold; font-size: 1.2em; line-height: 1; }
        
        .highlight-box { background-color: var(--light-blue-bg); border-left: 4px solid var(--main-blue); padding: 15px; margin: 20px 0; border-radius: 0 8px 8px 0; }
        .highlight-box.orange { background-color: var(--light-orange-bg); border-left-color: var(--accent-orange); }

        /* --- STYLES PAGE D'ACCUEIL --- */
        .benefits-list { list-style: none; padding-left: 0; margin-top: 20px;}
        .benefits-list li { display: flex; align-items: flex-start; margin-bottom: 1rem; font-size: 1.05em; padding-left: 0;}
        .benefits-list li::before { content: none; }
        .benefits-list li i { margin-right: 15px; font-size: 1.2em; color: var(--main-blue); width: 20px; text-align: center; margin-top: 4px; }
        .module-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin-top: 20px; }
        .module-card { background-color: var(--light-blue-bg); padding: 25px; border-radius: 8px; border: 1px solid #d3d3f5; transition: transform 0.2s, box-shadow 0.2s; }
        .module-card:hover { transform: translateY(-5px); box-shadow: 0 6px 15px rgba(0,0,0,0.08); }
        .module-card .icon-title { display: flex; align-items: center; margin-bottom: 15px; }
        .module-card .icon-title i { font-size: 2em; color: var(--accent-orange); margin-right: 15px; width: 40px; text-align: center;}
        .module-card .icon-title h4 { margin: 0; font-size: 1.3em; color: var(--main-blue); }
        .module-card > p { font-size: 0.95em; color: var(--text-light); margin-bottom: 1rem;}
        .module-card strong { color: var(--text-dark); }
        .presentation-image-link img { transition: opacity 0.3s ease; border-radius: 8px; }
        .presentation-image-link:hover img { opacity: 0.85; }
        .competences-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }
        .competence-card { padding: 1.5rem; border-radius: 8px; }
        .competence-card h4 { font-size: 1.2rem; margin: 0 0 1rem 0; font-weight: 600; display: flex; align-items: center; }
        .competence-card h4 i { margin-right: 0.75rem; }
        .competence-card ul { font-size: 0.95rem; list-style-type: disc; padding-left: 20px; }
        .competence-card ul li { padding-left: 5px; }
        .competence-card ul li::before { content: "• "; color: black; position: static; font-weight: normal; font-size: inherit; }
        .competence-card-savoir { background-color: #f0f9ff; border: 1px solid #bae6fd; }
        .competence-card-savoir h4 { color: #0369a1; }
        .competence-card-savoirfaire { background-color: #f7fee7; border: 1px solid #d9f99d; }
        .competence-card-savoirfaire h4 { color: #4d7c0f; }
        .competence-card-comprendre { background-color: #fffbeb; border: 1px solid #fde68a; }
        .competence-card-comprendre h4 { color: #b45309; }

        /* --- STYLES INTERACTIFS MODULE 2.1 --- */
        .flip-card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .flip-card { background-color: transparent; height: 220px; perspective: 1000px; cursor: pointer; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.7s; transform-style: preserve-3d; }
        .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: 12px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; border: 1px solid var(--border-color); }
        .flip-card-front { background: linear-gradient(145deg, var(--main-blue), #2a1a9f); color: white; }
        .flip-card-front i { font-size: 3em; margin-bottom: 15px; }
        .flip-card-front h4 { color: white; font-size: 1.5em; margin: 0; }
        .flip-card-back { background-color: var(--light-blue-bg); transform: rotateY(180deg); }
        .flip-card-back h4 { color: var(--main-blue); margin: 0 0 10px 0; font-size: 1.2em; }
        .flip-card-back p { font-size: 0.9em; color: var(--text-light); margin: 0; text-align: center; }
        
        .interactive-details { border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 10px; background-color: var(--card-bg);}
        .interactive-details summary { padding: 15px; font-weight: 600; color: var(--main-blue); cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center; }
        .interactive-details summary::-webkit-details-marker { display: none; }
        .interactive-details summary:hover { background-color: var(--light-blue-bg); }
        .interactive-details summary .summary-icon { color: var(--accent-orange); transition: transform 0.3s ease-in-out; }
        .interactive-details[open] > summary { border-bottom: 1px solid var(--border-color); }
        .interactive-details[open] > summary .summary-icon { transform: rotate(180deg); }
        .interactive-details .details-content { padding: 15px 15px 15px 20px; color: var(--text-light); }
        
        #plc-svg-container { position: relative; background-color: var(--light-blue-bg); padding:10px; border-radius: 8px; }
        #plc-svg { width: 100%; height: auto; }
        #plc-svg .grid-line { stroke: #d3d3f5; stroke-width: 0.5; }
        #plc-svg .axis-line { stroke: var(--text-light); stroke-width: 1; }
        #plc-svg .axis-text { fill: var(--text-light); font-size: 10px; font-family: -apple-system, sans-serif;}
        #plc-svg .plc-curve { fill: none; stroke: var(--accent-orange); stroke-width: 3; }
        #plc-svg .phase-zone { fill: transparent; cursor: pointer; }
        #plc-svg .phase-label { fill: var(--text-dark); font-size: 12px; font-weight: 600; text-anchor: middle; pointer-events: none; }
        #plc-tooltip { position: absolute; display: none; background-color: rgba(45, 55, 72, 0.9); color: white; padding: 10px 15px; border-radius: 5px; border: 1px solid var(--accent-orange); font-size: 0.9em; max-width: 250px; text-align: center; z-index: 100; pointer-events: none; backdrop-filter: blur(2px); }
        #plc-tooltip h5 { color: var(--accent-orange); margin: 0 0 5px 0; font-weight: bold; }

        /* --- QUIZ --- */
        .quiz-start-screen { text-align:center; padding: 20px; }
        .quiz-start-screen h4 { font-size: 1.6em; margin-bottom:10px; }
        .quiz-start-screen p { margin-bottom: 15px; font-size: 1.05em; }
        .quiz-start-btn { padding: 12px 25px; background-color: var(--main-blue); color: white; border: none; border-radius: 5px; font-size: 1.1em; cursor: pointer; transition: background-color 0.3s; }
        .quiz-start-btn:hover { background-color: #0d006e; }
        .quiz-area { display: none; }
        .quiz-progress-bar-container { width: 100%; background-color: #e0e0e0; border-radius: 4px; margin-bottom: 20px; height: 12px; overflow:hidden; }
        .quiz-progress-bar { height: 100%; width: 0%; background-color: var(--accent-orange); transition: width 0.3s ease-in-out; }
        .quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-size: 0.9em; color: var(--text-light); }
        .quiz-question-text { font-size: 1.25em; margin-bottom: 20px; line-height:1.4; }
        .quiz-option-btn { display: block; width: 100%; text-align: left; padding: 12px 15px; margin-bottom: 10px; background-color: var(--card-bg); border: 2px solid var(--border-color); color: var(--text-dark); border-radius: 5px; cursor: pointer; transition: all 0.2s; font-size: 1em; }
        .quiz-option-btn:hover:not([disabled]) { border-color: var(--accent-orange); background-color: var(--light-orange-bg); }
        .quiz-option-btn.correct { background-color: #d4edda !important; border-color: #28a745 !important; color: #155724 !important; font-weight:bold; }
        .quiz-option-btn.incorrect { background-color: #f8d7da !important; border-color: #d9534f !important; color: #721c24 !important; }
        .quiz-option-btn:disabled { cursor: not-allowed; }
        .quiz-feedback { margin-top: 15px; padding: 12px; border-radius: 5px; font-size: 0.95em; line-height:1.5; display:none; }
        .quiz-feedback.correct { background-color: #d4edda; border-left: 5px solid #28a745; color: #155724; }
        .quiz-feedback.incorrect { background-color: #f8d7da; border-left: 5px solid #d9534f; color: #721c24; }
        .quiz-nav-btn { display: block; margin: 20px 0 0 auto; padding: 10px 20px; background-color: var(--main-blue); color: white; border: none; border-radius: 5px; cursor: pointer; }
        
        .quiz-results-screen { text-align: center; padding: 20px; }
        .quiz-results-screen .quiz-results-subtitle { color: var(--main-blue); font-size: 1.6em; font-weight: 700; margin-bottom: 20px; }
        .quiz-results-screen .quiz-results-icon { font-size: 3em; margin-bottom: 20px; }
        .quiz-results-screen .quiz-results-score-text { font-size: 1.2em; font-weight: 600; margin-bottom: 10px; }
        .quiz-results-screen .quiz-results-message { max-width: 600px; margin: 0 auto 25px auto; color: var(--text-light); }
        .quiz-results-screen .quiz-restart-btn { padding: 12px 25px; background-color: var(--main-blue); color: white; border: none; border-radius: 5px; font-size: 1.1em; cursor: pointer; transition: background-color 0.3s; }
        .quiz-results-screen .quiz-restart-btn:hover { background-color: #0d006e; }
        
        /* --- GLOSSAIRE --- */
        .glossary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
        .glossary-item { background-color: var(--light-blue-bg); padding: 15px; border-radius: 6px; border: 1px solid #d3d3f5; }
        .glossary-item strong { display: block; color: var(--main-blue); margin-bottom: 5px; font-size: 1.05em; }
        
        /* --- NAVIGATION BAS DE PAGE --- */
        .page-navigation { display: flex; justify-content: space-between; align-items: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid var(--border-color); }
        .nav-arrow { display: inline-flex; align-items: center; justify-content: center; width: 45px; height: 45px; background-color: var(--main-blue); color: white; border-radius: 50%; text-decoration: none; font-size: 1.3em; box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: all 0.2s; cursor:pointer; }
        .nav-arrow:hover:not(.disabled) { background-color: #0d006e; transform: scale(1.05); } 
        .nav-arrow.disabled { background-color: #cccccc; opacity: 0.6; cursor: not-allowed; transform: none; }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .timeline-card { overflow-x: auto; -webkit-overflow-scrolling: touch; justify-content: flex-start; }
            .timeline-step { flex-shrink: 0; min-width: 70px; }
            .module-grid, .competences-grid, .flip-card-grid { grid-template-columns: 1fr; }
        }

    </style>
</head>

<body>
    <header>
        <i class="fas fa-store"></i>
        <h1>Gestion et Dynamisation de l'Offre Commerciale</h1>
        <p>De la sélection du produit à sa mise en valeur en point de vente.</p>
    </header>

    <div class="main-container">
        <nav class="timeline-card">
            <a class="timeline-step" data-page="accueil" title="Accueil"><div class="timeline-step-circle"><i class="fas fa-home"></i></div><span>Accueil</span></a> <div class="timeline-connector"></div>
            <a class="timeline-step" data-page="module-2-1" title="Fondamentaux"><div class="timeline-step-circle"><i class="fas fa-sitemap"></i></div><span>Module 2.1</span></a> <div class="timeline-connector"></div>
            <a class="timeline-step" data-page="module-2-2" title="Merchandising"><div class="timeline-step-circle"><i class="fas fa-magic"></i></div><span>Module 2.2</span></a> <div class="timeline-connector"></div>
            <a class="timeline-step" data-page="module-2-3" title="Stocks"><div class="timeline-step-circle"><i class="fas fa-boxes"></i></div><span>Module 2.3</span></a> <div class="timeline-connector"></div>
            <a class="timeline-step" data-page="module-2-4" title="Promotions"><div class="timeline-step-circle"><i class="fas fa-bullhorn"></i></div><span>Module 2.4</span></a> <div class="timeline-connector"></div>
            <a class="timeline-step" data-page="glossaire" title="Glossaire"><div class="timeline-step-circle"><i class="fas fa-book"></i></div><span>Glossaire</span></a> <div class="timeline-connector"></div>
            <a class="timeline-step" data-page="quiz-final" title="Quiz Final"><div class="timeline-step-circle"><i class="fas fa-graduation-cap"></i></div><span>Quiz Final</span></a>
        </nav>

        <main id="spa-pages-container">
            <section id="accueil" class="spa-page">
                 <h2 class="main-page-title"><i class="fas fa-rocket"></i>Bienvenue dans votre Formation !</h2>
                <div class="content-card">
                     <a href="#" id="start-learning-link" title="Commencer la formation" class="presentation-image-link">
                        <img src="https://images.unsplash.com/photo-1556742044-3c52d6e88c62?q=80&w=1170&auto=format&fit=crop" alt="Illustration de la gestion de l'offre commerciale dans un point de vente" style="width:100%;">
                    </a>
                </div>
                <div class="content-card">
                    <h3><i class="fas fa-info-circle"></i>Présentation de la Formation</h3>
                    <p>Ce parcours de formation est conçu pour vous donner toutes les clés de la gestion des produits et services en point de vente. Vous découvrirez pourquoi un magasin choisit de vendre un produit plutôt qu'un autre, comment il organise son offre pour séduire les clients, et comment il se démarque de la concurrence.</p>
                    <p><strong>Comprendre ces bases est crucial pour bien gérer un rayon ou une unité commerciale.</strong></p>
                </div>
                <div class="content-card">
                    <h3><i class="fas fa-podcast"></i>Podcast d'Introduction</h3>
                    <p>Écoutez notre expert présenter les enjeux et opportunités de la dynamisation de l'offre commerciale.</p>
                    <audio controls style="width:100%; margin-top:10px;">
                        <source src="URL_DE_VOTRE_PODCAST.mp3" type="audio/mpeg">
                        Votre navigateur ne supporte pas l'élément audio.
                    </audio>
                </div>
                <div class="content-card">
                    <h3><i class="fas fa-tasks"></i>Compétences Clés de la Formation</h3>
                    <div class="competences-grid">
                        <div class="competence-card competence-card-savoir">
                            <h4><i class="fas fa-lightbulb"></i>Savoir</h4>
                            <ul>
                                <li>Définir les concepts clés : assortiment, gamme, merchandising, démarque.</li>
                                <li>Identifier les phases du cycle de vie d'un produit.</li>
                                <li>Connaître les différents types d'actions promotionnelles et leur réglementation.</li>
                            </ul>
                        </div>
                        <div class="competence-card competence-card-savoirfaire">
                            <h4><i class="fas fa-tools"></i>Savoir-faire</h4>
                             <ul>
                                <li>Analyser un assortiment en termes de largeur et de profondeur.</li>
                                <li>Appliquer les règles de merchandising pour valoriser un produit.</li>
                                <li>Mettre en œuvre des contrôles pour réduire la démarque (FIFO, réception).</li>
                                <li>Mesurer l'impact d'une action commerciale.</li>
                            </ul>
                        </div>
                        <div class="competence-card competence-card-comprendre">
                            <h4><i class="fas fa-project-diagram"></i>Comprendre</h4>
                            <ul>
                                <li>Expliquer comment l'offre contribue au positionnement de l'enseigne.</li>
                                <li>Justifier les choix de merchandising pour optimiser la rentabilité.</li>
                                <li>L'impact de la gestion des stocks sur la satisfaction client et la rentabilité.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="content-card">
                    <h3><i class="fas fa-star"></i>Pourquoi cette formation est-elle cruciale pour vous ?</h3>
                    <ul class="benefits-list">
                        <li><i class="fas fa-heart"></i><div><strong>Satisfaction Client :</strong> Proposer les bons produits au bon moment pour répondre précisément aux attentes des clients.</div></li>
                        <li><i class="fas fa-euro-sign"></i><div><strong>Rentabilité :</strong> Choisir et gérer un assortiment pour optimiser les ventes et les marges.</div></li>
                        <li><i class="fas fa-store"></i><div><strong>Image et Positionnement :</strong> Contribuer à forger l'image de votre magasin (discount, spécialiste, haut de gamme...) grâce à une offre cohérente.</div></li>
                        <li><i class="fas fa-boxes"></i><div><strong>Gestion Optimisée :</strong> Mieux gérer les commandes et les stocks en comprenant le cycle de vie des produits.</div></li>
                        <li><i class="fas fa-lightbulb"></i><div><strong>Différenciation :</strong> Vous démarquer de la concurrence grâce à un assortiment unique et bien pensé.</div></li>
                    </ul>
                </div>
                <div class="content-card">
                    <h3><i class="fas fa-stream"></i>Aperçu des Modules de Formation</h3>
                    <p>Cette formation s'articule autour de quatre piliers fondamentaux, complétés par un glossaire et une évaluation finale.</p>
                    <div class="module-grid">
                        <div class="module-card">
                            <div class="icon-title"><i class="fas fa-sitemap"></i><h4>Le Cœur de l'Offre</h4></div>
                            <p>Comprendre ce que le magasin vend et comment l'offre est structurée.</p>
                            <ul><li><strong>Concepts clés :</strong> Assortiment, Gamme, Cycle de Vie Produit, Positionnement.</li></ul>
                        </div>
                        <div class="module-card">
                            <div class="icon-title"><i class="fas fa-magic"></i><h4>Rendre l'Offre Irrésistible</h4></div>
                            <p>Apprendre à bien présenter les produits pour maximiser les ventes.</p>
                            <ul><li><strong>Concepts clés :</strong> Implantation, Facing & Linéaire, PLV & ILV, Théâtralisation.</li></ul>
                        </div>
                        <div class="module-card">
                            <div class="icon-title"><i class="fas fa-clipboard-check"></i><h4>Gérer les Stocks</h4></div>
                            <p>Maîtriser les flux pour n'avoir "ni trop, ni trop peu".</p>
                             <ul><li><strong>Concepts clés :</strong> Inventaire, Rotation des stocks, Démarque, Réception.</li></ul>
                        </div>
                        <div class="module-card">
                            <div class="icon-title"><i class="fas fa-bullhorn"></i><h4>Donner un Coup de Boost</h4></div>
                            <p>Utiliser des actions ponctuelles pour stimuler les ventes et créer l'événement.</p>
                             <ul><li><strong>Concepts clés :</strong> Promotions, Réglementation, Animations, Mesure de l'impact.</li></ul>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="module-2-1" class="spa-page">
                <h2 class="main-page-title"><i class="fas fa-sitemap"></i>Module 2.1 : Fondamentaux de l'Assortiment et de la Gamme</h2>
                
                <div class="content-card">
                    <h3><i class="fas fa-grip-horizontal"></i>L'Assortiment : Largeur et Profondeur</h3>
                    <p>L'Assortiment est l'ensemble des produits proposés à la vente. Il se définit par deux dimensions. Cliquez sur les cartes pour en savoir plus.</p>
                    <div class="flip-card-grid" style="margin-top: 20px;">
                        <div class="flip-card">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">
                                    <i class="fa-solid fa-grip-horizontal"></i><h4>Largeur</h4>
                                </div>
                                <div class="flip-card-back">
                                    <h4>Largeur d'Assortiment</h4>
                                    <p>C'est le nombre de familles de produits différentes. Un hypermarché a une grande largeur (alimentation, vêtements...), une boulangerie a une faible largeur.</p>
                                </div>
                            </div>
                        </div>
                        <div class="flip-card">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">
                                    <i class="fa-solid fa-layer-group"></i><h4>Profondeur</h4>
                                </div>
                                <div class="flip-card-back">
                                    <h4>Profondeur d'Assortiment</h4>
                                    <p>C'est le nombre de références différentes au sein d'une même famille. Un magasin de thés avec 200 variétés a une grande profondeur.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                     <div class="highlight-box orange" style="margin-top:25px;">
                        <h4>Stratégies d'Assortiment</h4>
                        <p style="margin:0;">Les magasins choisissent leur stratégie : <strong>Étroit et Profond</strong> pour un spécialiste (ex: un caviste), <strong>Large et Peu Profond</strong> pour un bazar, <strong>Large et Profond</strong> pour un hypermarché.</p>
                    </div>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-layer-group"></i>La Structure d'une Gamme</h3>
                    <p>La Gamme est l'ensemble des produits d'une même famille. Elle est souvent structurée par niveaux et par rôles. Explorez les sections ci-dessous.</p>
                    <div style="margin-top: 20px;">
                        <details class="interactive-details">
                            <summary><span>Les Niveaux de Gamme (Prix/Qualité)</span> <i class="fas fa-chevron-down summary-icon"></i></summary>
                            <div class="details-content">
                                <ul>
                                    <li><strong>Bas de Gamme (Entrée de gamme) :</strong> Produits basiques, prix les plus bas. Rôle : attirer les clients sensibles au prix.</li>
                                    <li><strong>Moyenne Gamme :</strong> Bon compromis qualité/prix. Rôle : satisfaire la majorité des clients et assurer le volume des ventes.</li>
                                    <li><strong>Haut de Gamme (Premium) :</strong> Haute qualité, prix élevés. Rôle : valoriser l'image et réaliser de fortes marges.</li>
                                </ul>
                            </div>
                        </details>
                        <details class="interactive-details">
                            <summary><span>Les Rôles Spécifiques des Produits</span> <i class="fas fa-chevron-down summary-icon"></i></summary>
                            <div class="details-content">
                               <ul>
                                    <li><strong>Produit Leader :</strong> Réalise le plus gros du chiffre d'affaires.</li>
                                    <li><strong>Produit d'Appel :</strong> Prix très attractif pour attirer les clients en magasin.</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-history"></i>Le Cycle de Vie d'un Produit (PLC)</h3>
                    <p>Les produits traversent 4 phases qui influencent les décisions commerciales. Survolez les différentes zones du graphique pour explorer chaque phase.</p>
                    <div id="plc-svg-container">
                         <svg id="plc-svg" viewBox="0 0 400 200">
                            <line class="grid-line" x1="0" y1="50" x2="400" y2="50" />
                            <line class="grid-line" x1="0" y1="100" x2="400" y2="100" />
                            <line class="grid-line" x1="0" y1="150" x2="400" y2="150" />
                            <line class="axis-line" x1="20" y1="10" x2="20" y2="180" />
                            <line class="axis-line" x1="20" y1="180" x2="380" y2="180" />
                            <text class="axis-text" x="10" y="15" transform="rotate(-90 10 95)">Ventes</text>
                            <text class="axis-text" x="190" y="195">Temps</text>
                            <path class="plc-curve" d="M 30 178 C 80 160, 100 40, 160 30 S 280 20, 310 130 C 320 160, 350 175, 370 178" />
                            <rect class="phase-zone" data-phase="lancement" x="30" y="20" width="70" height="160" />
                            <rect class="phase-zone" data-phase="croissance" x="100" y="20" width="90" height="160" />
                            <rect class="phase-zone" data-phase="maturite" x="190" y="20" width="120" height="160" />
                            <rect class="phase-zone" data-phase="declin" x="310" y="20" width="70" height="160" />
                            <text class="phase-label" x="65" y="170">Lancement</text>
                            <text class="phase-label" x="145" y="50">Croissance</text>
                            <text class="phase-label" x="250" y="40">Maturité</text>
                            <text class="phase-label" x="345" y="160">Déclin</text>
                        </svg>
                        <div id="plc-tooltip"></div>
                    </div>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-map-pin"></i>Le Positionnement</h3>
                    <p>Le positionnement est la place spécifique qu'une marque ou enseigne veut occuper dans l'esprit du consommateur par rapport à ses concurrents. Il se définit en répondant à 3 questions :</p>
                    <ul>
                        <li><strong>Pour Qui ?</strong> (La cible)</li>
                        <li><strong>Contre Qui ?</strong> (Les concurrents)</li>
                        <li><strong>Quoi ?</strong> (La promesse, l'avantage concurrentiel)</li>
                    </ul>
                    <div class="highlight-box orange">
                       <p>Le positionnement guide TOUTES les décisions : assortiment, prix, communication, merchandising... Tout doit être cohérent.</p>
                    </div>
                </div>

                <div class="content-card" id="quiz-module-2-1"></div>
            </section>
            
            <section id="module-2-2" class="spa-page">
                <h2 class="main-page-title"><i class="fas fa-magic"></i>Module 2.2 : Principes du Merchandising</h2>
                <div class="content-card">
                    <h3><i class="fas fa-bullseye"></i>Objectifs du Module</h3>
                    <p>Comprendre l'art et la science de bien présenter les produits pour maximiser les ventes et la satisfaction client. Le merchandising est souvent appelé le "vendeur muet".</p>
                </div>
                
                <div class="content-card">
                    <h3><i class="fas fa-route"></i>Implantation et Flux Clients</h3>
                    <p>L'organisation du magasin guide le parcours du client.</p>
                    <ul>
                        <li><strong>Zones Chaudes :</strong> Endroits très fréquentés (entrée, allées principales, têtes de gondole). Idéales pour les achats d'impulsion et les produits à forte marge.</li>
                        <li><strong>Zones Froides :</strong> Endroits moins fréquentés (fond du magasin, coins). On y place des produits d'appel pour y attirer les clients.</li>
                    </ul>
                    <h4>Les Niveaux de Présentation en Rayon</h4>
                     <ul>
                        <li><strong>Niveau des Yeux (1,20m - 1,60m) :</strong> LE NIVEAU LE PLUS VENDEUR. On y place les produits leaders, les nouveautés ou à forte marge.</li>
                        <li><strong>Niveau des Mains :</strong> Très accessible, pour les produits courants.</li>
                        <li><strong>Niveau du Sol :</strong> Pour les produits premiers prix et les articles lourds/volumineux.</li>
                        <li><strong>Niveau Chapeau (en hauteur) :</strong> Pour le stock ou les produits peu vendus.</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-ruler-combined"></i>Linéaire et Facing</h3>
                     <ul>
                        <li><strong>Linéaire :</strong> L'espace en longueur occupé par un produit sur les étagères. Le "linéaire développé" est la surface totale de présentation (longueur x nombre de niveaux).</li>
                        <li><strong>Facing :</strong> Le nombre de produits identiques visibles de face sur une étagère. Un grand facing augmente la visibilité, prévient la rupture visuelle et donne une image de produit star.</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-bullhorn"></i>PLV et ILV : Faire parler le magasin</h3>
                     <ul>
                        <li><strong>PLV (Publicité sur le Lieu de Vente) :</strong> Vise à SÉDUIRE et provoquer l'achat (ex: affiches promo, stop-rayons).</li>
                        <li><strong>ILV (Information sur le Lieu de Vente) :</strong> Vise à INFORMER et guider le client (ex: panneaux de rayon, étiquettes prix, fiches techniques).</li>
                    </ul>
                    <p>Les deux sont complémentaires et doivent être claires, visibles et à jour.</p>
                </div>
                
                <div class="content-card">
                    <h3><i class="fas fa-theater-masks"></i>Théâtralisation et Animation</h3>
                     <ul>
                        <li><strong>Théâtralisation :</strong> Mettre en scène l'offre pour créer une ambiance et une expérience (décor, éclairage, musique, marketing olfactif...).</li>
                        <li><strong>Animation :</strong> Créer un événement pour attirer du trafic et dynamiser les ventes (dégustations, démonstrations, jeux...).</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-desktop"></i>Les Bases de l'E-Merchandising</h3>
                    <p>Les mêmes principes s'appliquent en ligne :</p>
                    <ul>
                        <li><strong>Organisation du catalogue (rayons) :</strong> Catégories et filtres clairs.</li>
                        <li><strong>Page d'accueil (vitrine) :</strong> Mettre en avant promos et nouveautés.</li>
                        <li><strong>Fiche produit (PLV/ILV) :</strong> Visuels de qualité, description claire, avis clients.</li>
                        <li><strong>Recommandations produits (vente additionnelle) :</strong> Proposer des articles complémentaires.</li>
                    </ul>
                </div>

                <div class="content-card" id="quiz-module-2-2">
                    </div>
            </section>
            
            <section id="module-2-3" class="spa-page">
                <h2 class="main-page-title"><i class="fas fa-boxes"></i>Module 2.3 : Gestion des Stocks et Approvisionnements</h2>
                <div class="content-card">
                    <h3><i class="fas fa-bullseye"></i>Objectifs du Module</h3>
                    <p>Comprendre comment gérer les stocks pour éviter les ruptures (client mécontent) et le surstock (argent immobilisé), et maîtriser le processus de commande.</p>
                </div>
                
                <div class="content-card">
                    <h3><i class="fas fa-calculator"></i>L'Inventaire : Savoir ce que l'on a</h3>
                    <p>L'inventaire physique consiste à compter et valoriser tous les produits en stock. C'est une obligation légale annuelle, mais surtout un outil de gestion pour :</p>
                     <ul>
                        <li>Comparer le stock réel au stock théorique (informatique).</li>
                        <li>Calculer la démarque inconnue (les pertes "mystérieuses").</li>
                        <li>Détecter les produits qui ne se vendent pas ("stocks dormants").</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-sync-alt"></i>La Rotation des Stocks</h3>
                    <p>Cet indicateur mesure la vitesse à laquelle le stock se renouvelle. Une rotation **élevée** est un signe de bonne santé (le produit se vend bien). Une rotation **faible** est un signal d'alerte (surstock, produit peu attractif).</p>
                    <div class="highlight-box orange">
                        <h4>FIFO : First In, First Out (Premier Entré, Premier Sorti)</h4>
                        <p>C'est la règle d'or de la mise en rayon : mettre les produits qui arrivent **derrière** ceux qui sont déjà là. C'est CRUCIAL pour les produits avec une date limite afin d'assurer une bonne rotation et d'éviter les pertes.</p>
                    </div>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-search-dollar"></i>La Démarque : Lutter contre les pertes</h3>
                    <p>La démarque est la différence entre le stock théorique et le stock réel. Elle représente la valeur de la marchandise perdue ou dévalorisée.</p>
                    <ul>
                        <li><strong>Démarque Connue :</strong> Pertes identifiées et enregistrées (casse, péremption).</li>
                        <li><strong>Démarque Inconnue :</strong> Pertes non identifiées, découvertes à l'inventaire (vol, erreurs administratives). C'est la plus difficile à combattre.</li>
                    </ul>
                    <p>La prévention (antivols, vigilance, contrôles rigoureux, respect du FIFO) est la meilleure arme contre la démarque.</p>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-truck-loading"></i>La Réception des Marchandises</h3>
                    <p>C'est une étape fondamentale. Une réception rigoureuse implique de contrôler la livraison en comparant le **Bon de Livraison (BL)**, le **Bon de Commande (BC)** et la **marchandise réelle**.</p>
                     <p>Il est crucial de vérifier la quantité, la qualité (état, dates), et de noter toute anomalie comme **"réserve" sur le BL avant de signer**. Sans réserves, aucune réclamation n'est possible.</p>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-clipboard-list"></i>Les Commandes (Approvisionnement)</h3>
                    <p>L'objectif est de trouver le juste équilibre entre **éviter la rupture** et **éviter le surstock**. Pour bien commander, il faut connaître :</p>
                    <ul>
                        <li>Le stock actuel.</li>
                        <li>Les ventes prévues.</li>
                        <li>Le délai de livraison du fournisseur.</li>
                        <li>Le stock de sécurité (quantité minimale pour pallier les imprévus).</li>
                    </ul>
                </div>

                <div class="content-card" id="quiz-module-2-3">
                    </div>
            </section>
            
            <section id="module-2-4" class="spa-page">
                <h2 class="main-page-title"><i class="fas fa-bullhorn"></i>Module 2.4 : Promotions et Animations</h2>
                <div class="content-card">
                    <h3><i class="fas fa-bullseye"></i>Objectifs du Module</h3>
                    <p>Apprendre à utiliser les actions ponctuelles pour stimuler les ventes, attirer des clients, déstocker et dynamiser le point de vente.</p>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-tags"></i>Les Types de Promotions</h3>
                    <p>Une promotion offre un avantage temporaire au client.</p>
                     <ul>
                        <li><strong>Réductions de Prix :</strong> Réduction directe (-20%), vente par lot (3 pour 2), bon de réduction...</li>
                        <li><strong>Ventes avec Prime :</strong> Cadeau offert (verre, échantillon), produit en plus (+20% gratuit)...</li>
                        <li><strong>Jeux et Concours :</strong> Pour créer de l'animation et collecter des données clients.</li>
                        <li><strong>Essai Gratuit / Échantillonnage :</strong> Pour faire découvrir un nouveau produit.</li>
                    </ul>
                    <div class="highlight-box">
                        <p>Les <strong>Soldes</strong> sont une forme de promotion très réglementée (périodes fixes, revente à perte autorisée) pour écouler du stock ancien.</p>
                    </div>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-balance-scale"></i>La Réglementation</h3>
                    <p>On ne pas faire n'importe quoi ! Les règles principales :</p>
                     <ul>
                        <li><strong>Interdiction de la revente à perte</strong> (sauf pendant les soldes).</li>
                        <li><strong>Transparence :</strong> L'avantage doit être clair, le prix de référence (barré) doit être honnête.</li>
                        <li><strong>Disponibilité :</strong> Il faut avoir assez de stock pour un produit d'appel.</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3><i class="fas fa-chart-line"></i>Mesurer l'Impact d'une Action</h3>
                    <p>Après une promo, il faut analyser si elle a été efficace. On mesure son impact en fonction de l'objectif initial :</p>
                     <ul>
                        <li><strong>Ventes :</strong> Augmentation du CA, des quantités vendues. Attention à la "cannibalisation" (la promo d'un produit fait baisser les ventes d'un autre).</li>
                        <li><strong>Trafic :</strong> Nombre de visiteurs ou de participants.</li>
                        <li><strong>Déstockage :</strong> Quantité de stock écoulé.</li>
                    </ul>
                    <p>Il faut toujours comparer les chiffres avec une période de référence "normale" et analyser l'impact sur la **marge** pour juger de la rentabilité réelle.</p>
                </div>
                
                <div class="content-card" id="quiz-module-2-4">
                    </div>
            </section>
            
            <section id="glossaire" class="spa-page">
                <h2 class="main-page-title"><i class="fas fa-book"></i>Glossaire des Termes Clés</h2>
                <div class="content-card">
                    <div class="glossary-grid">
                        <div class="glossary-item"><strong>Animation Commerciale :</strong> Créer un événement en magasin pour attirer et engager les clients (ex: dégustation).</div>
                        <div class="glossary-item"><strong>Approvisionnement :</strong> Processus de commande et de réception des marchandises pour maintenir le stock.</div>
                        <div class="glossary-item"><strong>Assortiment :</strong> Ensemble des produits proposés par un point de vente.</div>
                        <div class="glossary-item"><strong>Cannibalisation :</strong> Phénomène où la promotion d'un produit diminue les ventes d'un autre produit similaire.</div>
                        <div class="glossary-item"><strong>Cycle de Vie Produit (PLC) :</strong> Les 4 phases d'un produit : Lancement, Croissance, Maturité, Déclin.</div>
                        <div class="glossary-item"><strong>Démarque :</strong> Différence entre le stock théorique et le stock réel. Représente les pertes.</div>
                        <div class="glossary-item"><strong>Démarque Connue :</strong> Pertes identifiées (casse, péremption enregistrée).</div>
                        <div class="glossary-item"><strong>Démarque Inconnue :</strong> Pertes non identifiées (vol, erreurs administratives).</div>
                        <div class="glossary-item"><strong>Facing (ou Frontale) :</strong> Nombre de produits identiques visibles de face sur une étagère.</div>
                        <div class="glossary-item"><strong>FIFO (First In, First Out) :</strong> Règle de gestion : le premier produit entré doit être le premier vendu. Essentiel pour les produits datés.</div>
                        <div class="glossary-item"><strong>Gamme :</strong> Organisation des produits d'une même famille (ex: bas, moyen, haut de gamme).</div>
                        <div class="glossary-item"><strong>ILV (Information sur le Lieu de Vente) :</strong> Vise à informer et guider (ex: étiquette prix).</div>
                        <div class="glossary-item"><strong>Inventaire :</strong> Comptage physique de tout le stock.</div>
                        <div class="glossary-item"><strong>Largeur d'Assortiment :</strong> Nombre de familles de produits différentes.</div>
                        <div class="glossary-item"><strong>Linéaire :</strong> Espace en longueur occupé par un produit sur une étagère.</div>
                        <div class="glossary-item"><strong>Merchandising :</strong> Art de bien présenter les produits pour maximiser les ventes.</div>
                        <div class="glossary-item"><strong>PLV (Publicité sur le Lieu de Vente) :</strong> Vise à séduire et provoquer l'achat (ex: affiche promo).</div>
                        <div class="glossary-item"><strong>Positionnement :</strong> Place qu'une enseigne veut occuper dans l'esprit des clients.</div>
                        <div class="glossary-item"><strong>Profondeur d'Assortiment :</strong> Nombre de choix au sein d'une même famille de produits.</div>
                        <div class="glossary-item"><strong>Réserve (sur BL) :</strong> Mention écrite sur un Bon de Livraison pour signaler une anomalie. Indispensable pour toute réclamation.</div>
                        <div class="glossary-item"><strong>Rotation des Stocks :</strong> Indicateur qui mesure la vitesse de renouvellement du stock.</div>
                        <div class="glossary-item"><strong>Stock de Sécurité :</strong> Stock minimal gardé pour pallier les imprévus (retard de livraison, pic de vente).</div>
                        <div class="glossary-item"><strong>Surstock :</strong> Avoir trop de stock par rapport à la demande.</div>
                        <div class="glossary-item"><strong>Théâtralisation :</strong> Mettre en scène l'offre pour créer une ambiance et une expérience client.</div>
                        <div class="glossary-item"><strong>Zone Chaude / Froide :</strong> Zones d'un magasin avec un fort / faible passage de clients.</div>
                    </div>
                </div>
            </section>
            
            <section id="quiz-final" class="spa-page">
                <h2 class="main-page-title"><i class="fas fa-graduation-cap"></i>Quiz Sommatif Final</h2>
                <div class="content-card" id="quiz-final-container">
                    </div>
            </section>
        </main>
        
        <div class="page-navigation">
            <span id="nav-prev" class="nav-arrow"><i class="fas fa-arrow-left"></i></span>
            <span id="nav-page-info" style="font-size: 0.9em; color: var(--text-light);"></span>
            <span id="nav-next" class="nav-arrow"><i class="fas fa-arrow-right"></i></span>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // ========== CONFIGURATION & DONNÉES ==========
        const spaPages = ['accueil', 'module-2-1', 'module-2-2', 'module-2-3', 'module-2-4', 'glossaire', 'quiz-final'];
        let currentPageIndex = 0;

        const allQuizzesData = {
            'quiz-module-2-1': [
                { question: "La largeur de l'assortiment mesure :", options: ["Le nombre de marques pour un produit.", "Le nombre de familles de produits différentes.", "La longueur des rayons.", "Le prix moyen des articles."], answer: 1, feedback: "La largeur mesure la diversité des types de besoins couverts par le magasin." },
                { question: "Un magasin très spécialisé dans la randonnée aura un assortiment :", options: ["Large et Profond", "Large et Peu Profond", "Étroit et Profond", "Étroit et Peu Profond"], answer: 2, feedback: "Étroit car il se concentre sur un thème, et Profond car il offre beaucoup de choix dans cette spécialité." },
                { question: "Dans une gamme, le 'Produit d'Appel' a pour rôle principal de :", options: ["Être le plus rentable.", "Attirer les clients en magasin avec un prix attractif.", "Améliorer l'image de marque.", "Assurer des ventes stables."], answer: 1, feedback: "Le produit d'appel est une 'locomotive' promotionnelle pour générer du trafic." },
                { question: "À quelle phase du cycle de vie les ventes augmentent-elles le plus rapidement ?", options: ["Lancement", "Croissance", "Maturité", "Déclin"], answer: 1, feedback: "La phase de Croissance est marquée par une adoption rapide du produit par le marché." },
                { question: "Le positionnement d'une enseigne correspond à :", options: ["Son emplacement géographique.", "Son classement en taille d'entreprise.", "La place qu'elle veut occuper dans l'esprit des consommateurs.", "Le nombre de produits qu'elle propose."], answer: 2, feedback: "Le positionnement est une notion marketing de perception par rapport aux concurrents." }
            ],
            'quiz-module-2-2': [
                 { question: "Dans un supermarché, quel est le niveau de présentation considéré comme le plus vendeur ?", options: ["Le niveau du sol", "Le niveau des mains", "Le niveau des yeux", "Le niveau chapeau"], answer: 2, feedback: "Le niveau des yeux capte naturellement le regard et est donc l'emplacement le plus stratégique." },
                 { question: "Le 'Facing' désigne :", options: ["La longueur totale d'un rayon.", "Le nombre de produits identiques visibles de face sur une étagère.", "L'affiche promotionnelle en tête de gondole.", "La première impression du client en entrant."], answer: 1, feedback: "Le facing est un indicateur clé de la visibilité d'un produit en rayon." },
                 { question: "Un panneau indiquant 'Rayon Crèmerie' est un exemple de :", options: ["PLV", "ILV", "Théâtralisation", "Facing"], answer: 1, feedback: "C'est de l'Information sur le Lieu de Vente (ILV), car son but est de guider et d'informer." },
                 { question: "Mettre en scène une table de fête avec de la vaisselle, des verres et du linge de table du magasin est une technique de :", options: ["Gestion des stocks", "PLV", "Théâtralisation", "Inventaire tournant"], answer: 2, feedback: "C'est de la théâtralisation, car on met les produits en situation d'usage pour créer l'envie." },
                 { question: "Sur un site e-commerce, les 'Avis Clients' sur une fiche produit jouent un rôle important pour :", options: ["Augmenter la vitesse du site.", "Rassurer le client et l'aider dans sa décision.", "Gérer la logistique des retours.", "Calculer le facing digital."], answer: 1, feedback: "Les avis clients sont une forme de preuve sociale essentielle en ligne pour compenser l'absence de contact physique." }
            ],
            'quiz-module-2-3': [
                { question: "La règle du FIFO (First In, First Out) consiste à :", options: ["Mettre les produits les plus récents devant.", "Mettre les produits les plus anciens devant.", "Vendre les produits les plus chers en premier.", "Faire l'inventaire tous les jours."], answer: 1, feedback: "FIFO = Premier Entré, Premier Sorti. On met donc les produits les plus anciens (arrivés en premier) devant pour qu'ils soient vendus avant leur date limite." },
                { question: "La démarque découverte lors de l'inventaire, sans cause identifiée (ex: vol), est appelée :", options: ["Démarque connue", "Démarque invisible", "Démarque inconnue", "Démarque de gestion"], answer: 2, feedback: "La démarque inconnue est l'écart non expliqué entre le stock théorique et le stock réel." },
                { question: "Lors de la réception d'une livraison, que devez-vous faire si vous constatez un carton écrasé AVANT de signer ?", options: ["Refuser toute la livraison.", "Signer rapidement pour ne pas retarder le livreur.", "Noter précisément '1 carton écrasé' sur le bon de livraison comme réserve.", "Ne rien dire et vérifier le contenu plus tard."], answer: 2, feedback: "Il est crucial de noter des réserves écrites et précises sur le bon de livraison pour que toute réclamation soit recevable." },
                { question: "Un taux de rotation des stocks très FAIBLE pour un produit peut indiquer :", options: ["Que le produit se vend très bien.", "Un risque de rupture de stock imminent.", "Un surstock ou un produit peu attractif.", "Une bonne rentabilité."], answer: 2, feedback: "Une rotation faible signifie que le produit reste longtemps en stock, ce qui est un signal d'alerte." },
                { question: "Quel élément n'est PAS directement nécessaire pour calculer une commande ?", options: ["Le stock actuel", "Le délai de livraison", "Le nom du commercial du fournisseur", "Les ventes prévisionnelles"], answer: 2, feedback: "Le stock, le délai et les ventes sont des données clés. Le nom du commercial est utile pour la relation, mais pas pour le calcul." }
            ],
            'quiz-module-2-4': [
                { question: "Quelle technique promotionnelle est spécifiquement réglementée avec des périodes fixes (hiver/été) ?", options: ["La vente par lot", "Les soldes", "Le bon de réduction", "La prime directe"], answer: 1, feedback: "Les soldes sont très encadrées par la loi, notamment sur les dates et la nature des produits." },
                { question: "Proposer 'Le 2ème produit à -50%' est une forme de :", options: ["Vente par lot", "Prime directe", "Offre de remboursement", "Jeu concours"], answer: 0, feedback: "C'est une vente par lot qui incite à acheter plusieurs unités du même produit." },
                { question: "La 'cannibalisation' lors d'une promotion signifie que :", options: ["La promotion a attiré de nombreux nouveaux clients.", "Les ventes du produit promu ont fait baisser les ventes d'un autre produit similaire.", "Le stock du produit promu a été entièrement écoulé.", "La promotion a été plus rentable que prévu."], answer: 1, feedback: "La cannibalisation est un effet secondaire à surveiller : on déplace les ventes d'un produit à un autre sans forcément augmenter le CA global." },
                { question: "L'interdiction de la revente à perte s'applique :", options: ["Uniquement pendant les soldes.", "Uniquement pour les produits alimentaires.", "Toute l'année, sauf exceptions comme les soldes.", "Jamais, un commerçant est libre de ses prix."], answer: 2, feedback: "La revente à perte est interdite en France pour protéger la concurrence, sauf cas très précis (soldes, produits périssables...)." },
                { question: "Pour mesurer l'impact réel d'une promotion sur la rentabilité, quel indicateur est plus pertinent que le Chiffre d'Affaires ?", options: ["Le nombre de 'likes' sur Facebook", "Le trafic en magasin", "La marge brute", "Le nombre de produits vendus"], answer: 2, feedback: "Le CA peut augmenter mais si c'est au détriment de la marge, l'opération n'est pas forcément rentable. L'analyse de la marge est donc plus précise." }
            ],
            'quiz-final-container': [
                { question: "La profondeur de l'assortiment mesure :", options: ["Le nombre de familles de produits différentes.", "Le nombre de références au sein d'une même famille.", "La distance entre l'entrée et le fond du magasin.", "Le niveau de prix moyen des articles."], answer: 1, feedback: "La profondeur mesure le choix (marques, modèles...) dans une catégorie. La largeur mesure la diversité des catégories." },
                { question: "Dans quelle phase du cycle de vie la concurrence est-elle la plus intense et les ventes stagnent ?", options: ["Lancement", "Croissance", "Maturité", "Déclin"], answer: 2, feedback: "La maturité est la phase où le marché est saturé, obligeant à se battre pour maintenir ses parts de marché." },
                { question: "Placer les produits leaders au niveau des yeux relève du :", options: ["Merchandising", "Positionnement", "Cycle de vie", "Démarque"], answer: 0, feedback: "C'est une technique fondamentale de merchandising de gestion et de séduction." },
                { question: "La différence entre le stock théorique et le stock réel s'appelle :", options: ["La Rotation", "Le Linéaire", "Le Facing", "La Démarque"], answer: 3, feedback: "La démarque est la mesure des pertes de marchandises, qu'elles soient connues ou inconnues." },
                { question: "Quelle est la règle de gestion de stock CRUCIALE pour les produits périssables ?", options: ["LIFO (Last In, First Out)", "FIFO (First In, First Out)", "FEFO (First Expired, First Out)", "ABC"], answer: 1, feedback: "FIFO (Premier Entré, Premier Sorti) est la base. FEFO (Premier Expiré, Premier Sorti) est encore plus précis, mais FIFO est la règle fondamentale enseignée." },
                { question: "Une affiche '-30% sur les cafés' est un exemple de :", options: ["ILV", "PLV", "Facing", "Gamme"], answer: 1, feedback: "C'est de la Publicité sur le Lieu de Vente (PLV) car elle vise à séduire et à provoquer un achat promotionnel." },
                { question: "Noter des 'réserves' sur le Bon de Livraison est indispensable pour :", options: ["Négocier une remise future.", "Pouvoir faire une réclamation valable en cas d'anomalie.", "Accélérer le processus de rangement.", "Informer le service marketing."], answer: 1, feedback: "Sans réserves écrites en présence du livreur, il est quasiment impossible de prouver que le dommage a eu lieu avant la réception." },
                { question: "Une enseigne comme Lidl a un positionnement principal axé sur :", options: ["Le luxe et l'exclusivité.", "Le conseil expert et un assortiment très profond.", "Les prix bas (Discount).", "La théâtralisation."], answer: 2, feedback: "Lidl est un exemple type d'enseigne au positionnement Discount, avec une stratégie axée sur les prix." },
                { question: "Analyser la 'cannibalisation' d'une promotion permet de savoir si :", options: ["La promo a été rentable.", "La promo a attiré de nouveaux clients.", "La promo a fait baisser les ventes d'autres produits.", "Le stock a bien tourné."], answer: 2, feedback: "La cannibalisation est l'effet négatif où les ventes d'un produit se font au détriment d'un autre." },
                { question: "L'ensemble des opérations visant à mettre en scène l'offre pour créer une ambiance (décor, musique, odeur) s'appelle :", options: ["L'animation", "La PLV", "La théâtralisation", "L'ILV"], answer: 2, feedback: "La théâtralisation cherche à créer une expérience sensorielle et immersive pour le client." }
            ]
        };
        const phaseTooltips = {
            lancement: { title: "Phase de Lancement", text: "Le produit est nouveau. Ventes faibles, coûts élevés (marketing, R&D), rentabilité négative ou nulle." },
            croissance: { title: "Phase de Croissance", text: "Le produit gagne en popularité. Les ventes augmentent rapidement, la rentabilité apparaît et les concurrents arrivent." },
            maturite: { title: "Phase de Maturité", text: "Le marché est saturé. Les ventes atteignent un pic puis se stabilisent. Forte concurrence et promotions fréquentes." },
            declin: { title: "Phase de Déclin", text: "Les ventes diminuent fortement. Le produit devient obsolète et est souvent retiré ou déstocké." }
        };

        const pageElements = document.querySelectorAll('.spa-page');
        const timelineSteps = document.querySelectorAll('.timeline-card .timeline-step');
        const navPrev = document.getElementById('nav-prev');
        const navNext = document.getElementById('nav-next');
        const navPageInfo = document.getElementById('nav-page-info');
        const startLearningLink = document.getElementById('start-learning-link');

        function showPage(pageId) {
            const newIndex = spaPages.indexOf(pageId);
            if (newIndex === -1) return;
            currentPageIndex = newIndex;
            pageElements.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId)?.classList.add('active');
            timelineSteps.forEach(step => {
                step.classList.toggle('active', step.dataset.page === pageId);
            });
            navPageInfo.textContent = `Étape ${currentPageIndex + 1} / ${spaPages.length}`;
            navPrev.classList.toggle('disabled', currentPageIndex === 0);
            navNext.classList.toggle('disabled', currentPageIndex === spaPages.length - 1);
        }

        timelineSteps.forEach(step => {
            step.addEventListener('click', () => showPage(step.dataset.page));
        });
        navPrev.addEventListener('click', () => { if (currentPageIndex > 0) showPage(spaPages[currentPageIndex - 1]); });
        navNext.addEventListener('click', () => { if (currentPageIndex < spaPages.length - 1) showPage(spaPages[currentPageIndex + 1]); });
        if(startLearningLink) { startLearningLink.addEventListener('click', (e) => { e.preventDefault(); showPage('module-2-1'); }); }

        document.querySelectorAll('.flip-card').forEach(card => {
            card.addEventListener('click', () => card.classList.toggle('flipped'));
        });

        const plcTooltip = document.getElementById('plc-tooltip');
        if (plcTooltip) {
            document.querySelectorAll('.phase-zone').forEach(zone => {
                zone.addEventListener('mouseover', (e) => {
                    const phaseData = phaseTooltips[e.target.dataset.phase];
                    if (phaseData) {
                        plcTooltip.innerHTML = `<h5>${phaseData.title}</h5><p>${phaseData.text}</p>`;
                        plcTooltip.style.display = 'block';
                    }
                });
                zone.addEventListener('mousemove', (e) => {
                    const svgContainerRect = document.getElementById('plc-svg-container').getBoundingClientRect();
                    plcTooltip.style.left = `${e.clientX - svgContainerRect.left + 15}px`;
                    plcTooltip.style.top = `${e.clientY - svgContainerRect.top - plcTooltip.offsetHeight - 10}px`;
                });
                zone.addEventListener('mouseleave', () => {
                    plcTooltip.style.display = 'none';
                });
            });
        }
        
        function initQuiz(containerId, questionsData) {
            const container = document.getElementById(containerId);
            if (!container) { return; }
            let currentQuestionIndex = 0; let score = 0;
            function renderStartScreen() {
                if(!questionsData || questionsData.length === 0) {
                     container.innerHTML = `<div class="quiz-start-screen"><p>Aucun quiz n'est disponible pour ce module.</p></div>`;
                     return;
                }
                container.innerHTML = `<div class="quiz-start-screen"><h4>Testez vos connaissances !</h4><p>Validez votre compréhension de ce module avec ce court quiz de ${questionsData.length} questions.</p><button class="quiz-start-btn"><i class="fas fa-play"></i> Commencer</button></div>`;
                const startBtn = container.querySelector('.quiz-start-btn');
                if (startBtn) {
                    startBtn.addEventListener('click', renderQuestionScreen);
                }
            }
            function renderQuestionScreen() {
                const quizArea = document.createElement('div');
                quizArea.className = 'quiz-area';
                container.innerHTML = '';
                container.appendChild(quizArea);

                const question = questionsData[currentQuestionIndex];
                const optionsHtml = question.options.map((opt, i) => `<button class="quiz-option-btn" data-index="${i}">${opt}</button>`).join('');
                quizArea.innerHTML = `<div class="quiz-progress-bar-container"><div class="quiz-progress-bar" style="width: ${currentQuestionIndex / questionsData.length * 100}%"></div></div><div class="quiz-header"><span>Question ${currentQuestionIndex + 1}/${questionsData.length}</span><span>Score: ${score}</span></div><h5 class="quiz-question-text">${question.question}</h5><div class="quiz-options">${optionsHtml}</div><div class="quiz-feedback"></div><button class="quiz-nav-btn" style="display:none;">Suivant</button>`;
                quizArea.style.display = 'block';
                quizArea.querySelectorAll('.quiz-option-btn').forEach(btn => btn.addEventListener('click', handleAnswer));
            }
            function handleAnswer(e) {
                const selectedIndex = parseInt(e.target.dataset.index);
                const question = questionsData[currentQuestionIndex];
                const feedbackEl = container.querySelector('.quiz-feedback');
                const options = container.querySelectorAll('.quiz-option-btn');
                const nextBtn = container.querySelector('.quiz-nav-btn');
                options.forEach(btn => btn.disabled = true);
                if (selectedIndex === question.answer) {
                    score++; e.target.classList.add('correct');
                    feedbackEl.innerHTML = `<i class="fas fa-check-circle"></i> <strong>Correct !</strong> ${question.feedback || ''}`;
                    feedbackEl.className = 'quiz-feedback correct';
                } else {
                    e.target.classList.add('incorrect'); options[question.answer].classList.add('correct');
                    feedbackEl.innerHTML = `<i class="fas fa-times-circle"></i> <strong>Incorrect.</strong> ${question.feedback || ''}`;
                    feedbackEl.className = 'quiz-feedback incorrect';
                }
                container.querySelector('.quiz-header span:last-child').textContent = `Score: ${score}`;
                container.querySelector('.quiz-progress-bar').style.width = `${(currentQuestionIndex + 1) / questionsData.length * 100}%`;
                feedbackEl.style.display = 'block'; nextBtn.style.display = 'block';
                if (currentQuestionIndex === questionsData.length - 1) {
                    nextBtn.textContent = 'Voir les résultats'; nextBtn.onclick = renderResultScreen;
                } else {
                    nextBtn.onclick = () => { currentQuestionIndex++; renderQuestionScreen(); };
                }
            }
            function renderResultScreen() {
                const percentage = Math.round((score / questionsData.length) * 100);
                const passed = percentage >= 75;
                let message;
                if (passed) {
                    message = `Félicitations ! Avec un score de ${percentage}%, vous avez dépassé le seuil de réussite de 75%. Vous avez une excellente maîtrise des concepts de ce module.`;
                } else {
                    message = `Votre score est de ${percentage}%. Le seuil de réussite est de 75%. N'hésitez pas à revoir les sections du module où vous avez eu des difficultés avant de tenter à nouveau le quiz.`;
                }
                container.innerHTML = `<div class="quiz-results-screen">
                    <h3 class="quiz-results-subtitle">Résultats du Quiz</h3>
                    <div class="quiz-results-icon" style="color: ${passed ? 'var(--success-color)' : 'var(--accent-orange)'};"><i class="fas ${passed ? 'fa-trophy' : 'fa-book-reader'}"></i></div>
                    <p class="quiz-results-score-text">Votre score : ${score}/${questionsData.length} (${percentage}%)</p>
                    <p class="quiz-results-message">${message}</p>
                    <button class="quiz-restart-btn"><i class="fas fa-redo"></i> Refaire le quiz</button>
                </div>`;
                container.querySelector('.quiz-restart-btn').addEventListener('click', renderStartScreen);
            }
            renderStartScreen();
        }

        showPage(spaPages[0]);
        for (const quizId in allQuizzesData) {
            if (allQuizzesData.hasOwnProperty(quizId)) {
                 initQuiz(quizId, allQuizzesData[quizId]);
            }
        }
    });
    </script>
</body>
</html>